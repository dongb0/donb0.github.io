---
layout: post
title: "Linux Command (1) -- apt and aptitude"
subtitle: 
author: "Dongbo"
header-style: text
tags:
  - linux
  - cmd
  - note
  - UF
---

> 大部分内容来自man手册

### apt换源

Ubuntu版本为18.04 LTS，更详细内容可查看[清华大学开源软件镜像站](https://mirrors4.tuna.tsinghua.edu.cn/help/ubuntu/)  

打开`/etc/apt/sources.list`，内容替换为（因为是虚拟机就懒得备份了）

    # 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
    deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
    # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
    deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
    # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
    deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
    # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
    deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
    # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse


## apt
#### Commands

- `update`  
从`/etc/apt/sources.list`(其实还包括`/etc/apt/source.list.d/`)中指定源获取package信息。

- `upgrade`  
更新所有有新版本的package。通常使用`upgrade`前需要先运行`update`来保证软件包的信息是最新的。


- `install pkg(s)`  
安装一个或多个包，包名前使用减号(-)等同于remove，可以使用等号(=)指定版本号

- `search`  
按照给定的正则表达式在软件包列表中搜索。或者使用`apt-file`搜索包含指定文件的软件包。

- `edit-sources`  
编辑`sources.list`。(跟自己进入目录编辑`/etc/apt/sources.list`相比少敲几个字符罢了；可以用`sudo select-editor`选择/切换编辑器)


- #apt-get command#   
  - `source` *source-pkg*   
    获取package源码，将源码下载到当前目录 

      > Source packages are tracked separately from binary packages via deb-src lines in the
        sources.list(5) file. This means that you will need to add such a line for each
        repository you want to get sources from; otherwise you will probably get either the
        wrong (too old/too new) source versions or none at all.

      所以这就是`sources.list`中deb-src行的作用。

#### Options
- `-y, --yes, --assume-yes`


### apt update后仍不安装最新软件包？

科大源，golang安装1.10.x？


## aptitude

用法大致与apt相似。至于区别，根据[这里](https://www.tecmint.com/difference-between-apt-and-aptitude/)的解释，

> **Aptitude** is a high-level package manager while **APT** is lower-level package manager which can be used by other higher-level package managers

Aptitude有界面，我试了一下感觉还不如命令行呢。似乎说aptitude在某些依赖的管理上比apt做得更好，目前用的不多。知道这么个东西就行了。