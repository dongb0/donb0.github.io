I"Y<h3 id="服务器的选择">服务器的选择</h3>

<p>关于服务器，我比较推荐DigitalOcean和Vultr两家，目前他们最便宜的套餐都是5刀一个月(2019.11)。不限速，每月1000G流量，我每个月大概只能用几十G，所以这个可以找同学合用分摊一下价格。</p>

<p>比起其他如搬瓦工之类的代理商，这两家的好处在于计时收费。只要删除服务器后就停止计费，到月末结算。比搬瓦工、阿里云这种至少得按月购买的要方便。如果ip突然被封了，删掉重建一个服务器就能换ip。听说搬瓦工换ip要联系客服，没用过不知道啦。</p>

<p>DigitalOcean可以用github的学生优惠，充值5美元之后可以领$50的代金券，能省一笔钱，但是需要用paypal或者信用卡支付。(我同学认证完学生优惠之后就开始嫌麻烦不想弄了，黑人问号？？有没有体会过我自己翻博客找认证方法的心情？下次问就百度，再问自杀)</p>

<p>Vultr可以用支付宝支付，曾经也有过2.5刀和3.5刀每月的服务器，但是现在没了。好处就是省事呗，虽然注册paypal也不是很麻烦，绑定学校提供的银行卡就可以。不过Vultr不翻樯的时候访问速度比DigitalOcean快那么一点，DigitalOcean有时候就是死活登陆不了，或者特别特别慢，也会稍微有点烦。</p>

<p><del>我有点想贴一下Vultr的分享链接在这里，先告诉你们，通过这个链接注册Vultr并不会有任何好处和损失，因为本来正常注册好像也没有优惠可以领；而我在你们的账号活跃一个月之后(也就是使用了一个月)可以得到10美元代金券。</del></p>

<p>刚刚才知道原来Vultr也有分享链接,说是通过<a href="https://www.vultr.com/?ref=8150688-4F">分享链接</a>注册，新用户可以领取$50。 <del>淦，我同学已经注册完了，所以我也不确定能不能领。</del> 嘛，大家看着办吧。</p>

<p><img src="/img/in-post/post-ssr/vultr-affiliate.jpg" alt="vultr-bonus" /></p>

<p>DigitalOcean优惠券的领取你们就自己找吧，但是那个直接用github账号登陆就好了，某个知乎专栏上的注册链接，说是点击注册可领取10$代金券，但是他没说这样注册之后，那50美元学生优惠似乎就领不到了。评论里说的，我没试过不是很清楚。</p>

<h4 id="vultr">Vultr</h4>

<p>前面注册完成之后，登陆会看到类似这样的界面，点右上角加号来部署服务器。</p>

<p><img src="/img/in-post/post-ssr/vultr-product.jpg" alt="vultr-product.jpg" /></p>

<p>我选的是硅谷机房，感觉还行，或者选择一个欧洲位置的也可以。我试了几次，Frankfurt的基本都能连上。价格就选最便宜，目前是5刀每月。操作系统的选择，关系到第三步加速工具的安装，最好选CentOS 7，几种加速在CentOS 7上基本都能安装成功，如果选别的操作系统，不保证能装上。</p>

<p><img src="/img/in-post/post-ssr/vultr-deploy1.jpg" alt="vultr-deploy1" />
<img src="/img/in-post/post-ssr/vultr-deploy2.jpg" alt="vultr-deploy2" /></p>

<p>完成部署后先试一下能不能ping通，不行就在部署一个，然后把旧的删掉（确保换成新ip）。能ping通的话，接下来就是连接服务器，在服务器端配置$$R了。</p>

<h4 id="xshell">xshell</h4>
<p>购买服务器之后，需要一个连接服务器的工具来对服务器进行若干配置，这里我用的是xshell，除此之外可以用putty，甚至可以用vultr网页上的控制台(不好用，因为没办法复制粘贴，作为应急方案)，看你个人喜好。</p>

<p>下载安装xshell，可以去<a href="https://www.netsarang.com/zh/free-for-home-school/">官网</a>下载免费版。</p>

<p>update：不是，我刚发现这个网站打不开，百度只能搜出来xshell中文网，上面只有标准版和30天试用版。惊了，居然还有这种操作，明明就有能下正常家庭免费版的网页居然给樯了。这里是我<a href="https://github.com/dongb0/dongb0.github.io/blob/master/resources/Xshell-6.0.0175p.exe">之前下的安装包</a>。</p>

<p>安装完成之后，打开大概是这个样子的。</p>

<p><img src="/img/in-post/post-ssr/xshell-new.jpg" alt="xshell-new" /></p>

<p>新建链接，填入服务器的ip地址</p>

<p><img src="/img/in-post/post-ssr/xshell-new-connection.jpg" alt="connection1" /></p>

<p>填入用户名和密码</p>

<p><img src="/img/in-post/post-ssr/xshell-new-connection2.jpg" alt="connection2" /></p>

<p>然后就可以连接了。</p>

<p><img src="/img/in-post/post-ssr/xshell-connection3.jpg" alt="connection3" /></p>

<p>如果<strong>一直</strong>连不上，出现connection failed，或者是连上了但是没有出现命令提示符，并且过一会就断开了。这时用vultr网页上的view console可以连接，输入服务器对应的用户名(root)和密码就可以登陆。也可以再创建新的服务器实例，换一个新的ip。注意，如果想换ip，记得先创建再删除旧的，不然有可能还是分配到同一个ip。</p>

<p>再记一下判断端口或者IP是否被封的方法。</p>

<p>用这个直接检测一下端口在国内国外是否都开放 <a href="https://www.toolsdaquan.com/ipcheck/">https://www.toolsdaquan.com/ipcheck/</a> <br />
或者看<em><a href="https://www.vultrblog.com/vultr-ssh-cant-connect/.html">这个</a></em>教程</p>

<p>连接上vps服务器之后，进入下一步，ss服务器的搭建。</p>

<hr />

<p><a href="/2019/11/15/ssr2">科学三部曲-其二 搭建</a>  <br />
<a href="/2019/11/15/ssr3">科学三部曲-其三 加速</a></p>

:ET