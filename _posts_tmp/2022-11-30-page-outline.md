---
layout: post
title: "[]"
subtitle: 
author: "Dongbo"
header-style: text
mathjax: true
hidden: false
tags:
  - paper
---

题目：面向大规模原生分布式数据库的动态视图选择
Title: Dynamic View Selection ALgorithm for Large Scale Naive Distributed Database

第1章 绪论

1.1 课题研究背景和意义
-------------


一串手写的数字、几个随机排列的字符、报纸上裁剪下来的一小块报道内容、几句口头转述的话语、一封泛黄的信笺，都包含着信息。但是这些数据是否有价值呢？这要取决于这些信息对于接收和使用它们的人的意义，

比如，这串数字是某个被遗忘在角落的账号的密码，这份报道是某人见义勇为事迹的嘉奖，这些转述的话诉说着对远方亲人的思念，这封信是第一次鼓起勇气递出情书后收到的回信，那么它们的意义将无比重大，它们的价值甚至无法用金钱来衡量。

但是对大多数人而言，这样的数据所包含的信息，其实并没有太大价值。

因为数据的价值是人们赋予它的；或者更准确的说，是由数据的使用者赋予的。
（生命的意义也是

对于无法从数据中解读出信息并加以利用的人来说，任何数据都只是一堆无意义符号组成的随机序列而已。

但对于能够充分利用数据的人来说，// 数据就是有价值的。

进入二十一世纪后，互联网的蓬勃发展使得全球无时无刻不在产生海量的数据，据统计，

202 X 年全世界每天产生的数据量达到了 ？ PB，约等于
// 需要数据支撑

这一趋势推动了大数据分析技术的发展【？？？】，200X～200X年，谷歌发表 GFS、MapReduce、？，掀起了大数据？？时代的热潮？

而随后 2012 年，？ 发表的？，将机器学习重新带回人们的视野，让人类有机会利用各种机器学习算法从海量杂乱无章的数据中提取出更多的信息，为人们创造更多的价值。

这 ？？ 的发展，使得数据的价值前所未有的 ？？ 珍贵？宝贵？


-------------

1）Gartner IDC 等等的报告  // 查不到了，这🐶东西需要付费买
2）数据库的应用
3）发展趋势：已经从上世纪七八十年代的关系型数据库，2010年前后的 NoSQL，逐渐转变为分布式数据库；随着 /*分析任务的实时性*/ 不断提高，以往的一个企业内使用两套系统分别进行事务处理和数据分析的方式，已经不足以满足如今的 /*分析任务要求*/ 要求，因而企业开始寻求能够整合 OLTP 和 OLAP 能力的数据库产品，希望部署一套数据库系统就保证正常事务处理流程，同时也能够进行实时的数据分析任务。  //是否需要一些引用和出处？

在这种背景下，传统的 OLAP ？数据仓库和 OLTP ？数据库功能开始慢慢融合；
Gartner 提出了新的 HTAP 数据库类别；

HTAP 数据库的出现，虽然整合了 AP 和 TP 能力，有利于充分发挥事务处理和分析处理的优点，但是同时也携带着各自的缺陷和不足，为整合带来了新的挑战。

探究传统 AP 特性/实现在新场景下的应用，有助于提升 HTAP 数据库的性能，促进  /**/ 数据库的发展；

一些 OLAP 数据库的特性也开始出现在 HTAP 数据库中，但这也逐渐引入了；
物化视图在 OLAP 中常用于加速分析型查询，它是通过将可能被多次重复计算和访问的数据，持久化到硬盘之后，以视图的形式暴露给上层应用，可以大大减少重复计算的开销。在传统数据仓库中，如何选择适合的视图进行物化，对于数据仓库的查询性能起着至关重要的作用。

一些主流的 OLTP 数据库也提供物化视图的支持； // 去验证
早期的物化视图选择，

----------
另外，分布式的必要性，来自于？

视图选择 view selection
视图缓存 view caching

分布式数据库系统应用的必要性
HTAP 能力 / 物化视图的必要性

----------

----
在新的场景下（HTAP，探究？？，


同时，分布式数据库系统也逐渐成为企业的主流解决方案。// 需要更多描述？现在不是还很多考虑云上了吗？
---

1.2 研究现状

1.2.1 生成和筛选候选视图

传统视图选择方法生成候选视图通常采用（枚举）的方式 【？，？，？，？】

候选视图， 某篇用了贪心的文章，介绍了一种缩小 search space 的方法；

2020 ICDE 一篇使用 common subquery 生成候选视图

1.2.2 视图选择算法分类

视图选择算法可大致分为以下三个类别：
  1）静态选择算法
    静态选择算法需要预先获取完整的工作负载（即所有查询序列），现有的大多数视图选择算法基本都归属于这一类别。【2012 survey】

    文献【1997 Selection of a view】通过将视图和基础表构建成 AND/OR 图（// 简要描述一下定义），转化为图的 ？？ 问题，使用 ？？ 的贪心算法来实现数据仓库中的视图选择；但该工作只考虑了对视图空间占用的限制，对维护开销并没有做约束；

    文献【1998 maintenance cost】在 【上一篇文献】的基础上，加入了视图的维护开销约束，同样通过贪心选择“得到增益与维护开销比值最高的视图”，来获取 OR view graph 中的近似最优解，同时还针对 AND-OR 设计了基于 A* 算法的启发算法，能够保证搜寻得到最优解；该工作的缺点也比较明显，首先 OR view graph 只是视图选择问题的一个子集，且最坏时间复杂度是指数级别，因而该贪心算法无法推广；另外，通过转化为 AND-OR 图之后虽然可以应用 A* 算法得到最优解，但是最坏情况下该算法可能退化为穷举算法，难以解决大规模视图的选择问题。

    // 这里是穷举吗？// 重新检查一下，A*最坏情况确实应该是穷举的，它这里采用了什么启发规则？

  2）动态选择算法
  动态视图选择算法可以工作在负载实时变动的场景下，因而算法需要根据当前负载变化的情况来对选择的视图进行调整，以便获取针对当前负载最优的视图组合。
  
  文献【1999 DynaMat】考虑到静态选择算法提供的视图选择可能会因工作负载的变化而失效，选择将适当的查询结果持久化以便重复利用，减少重复计算的开销；他们设计了额外的 fragment locator 来判断缓存的结果能够// 如何判断？如果缓存池已满，则可以通过 ？LRU/LFU/SFF/SPF 等策略进行缓存替换。DynaMat 能够对视图的空间占用和维护时间窗口都进行限制，并且 // ？？ 与静态选择算法相当。

  文献 【2007 dynamic materialized view】则针对工作负载访问数据存在偏斜的场景，提出有选择性的维护视图中一部分数据（通常选择访问频率较高的部分），加入 control table 来标记这些数据，并且根据负载的变化调整物化的部分。实验结果表明，在查询偏斜大于 90% 的情况下，对比物化完整视图，动态物化视图能够使用完整视图 5% 的存储空间达到相同的查询性能，并且维护开销远小于使用完整视图。


  3）learning-based

  文献【2018 BigSub】

  文献 【2020 automatic view generation】通过将视图生成问题模型化为 ILP（Integer Linear Programming） 问题，使用马尔科夫决策和深度学习模型来得到生成最终需要物化的视图，与传统的贪心算法和 BigSub ？？？ 方法对比，在不同数据集上都获得了一定的性能提升。

  文献 【2021 autoview】也将视图选择问题模型化为 ILP，但生成候选视图的方法采用的是提取 SQL 对应物理计划合并为 MVPP ，从而寻找公共子查询的方式，并且视图选择采用的是 ERDDQN 模型

  几个

以上文献的研究对象均为集中式的数据库和数据仓库，但随着信息量的增加、数据规模的增大，集中式系统开始无法满足应用的扩展性要求，研究人员开始探寻分布式场景下的视图选择工作。

// 介绍一些分布式场景下的视图选择工作
// 不多，主要也以集中式贪心/遗传算法扩展到分布式环境下为主

目前看到的分布式下的视图选择研究，仍然以扩展现有的集中式贪心算法或扩展遗传算法、随机退火算法等随机算法到分布式环境中为主。


//------
这些静态视图选择算法需要预先获取完整的工作负载才能进行分析和选择，缺乏对于动态工作负载的调整能力。
因此本文尝试设计一种应用在分布式场景下的的动态视图选择方法，填补这方面的空缺。
//------ 别放在这里

1.2.3 索引选择算法
数据库索引在作用、功能和结构上与物化视图有许多相似之处（// 有一篇论文提到，怎么写的来着？好像是那个整合 index 和 mv 的论文，autoadmin？还是什么），在选择算法上可以相互借鉴；

文献 【2000 automated selection for mv & index】 首次尝试将 mv 和 index 看作同一类结构，同等的根据每单位 ？？ 带来的增益从物化视图或者索引中进行贪心选择。该工作还提出了一种筛选候选视图的方法，首先对查询语句进行句法分析来获取所有查询可能涉及的候选视图，然后使用贪心算法找出查询开销超过某个设定阈值的表的集合，称为 interesting table，再基于涉及 insteresting table 的查询来构造候选视图，来得到最终的候选视图集合。

也有一些研究工作将二者共同纳入考虑，尝试同时完成索引选择和视图选择，如文献///

总体而言，索引选择算法的分类也与视图选择算法类似，

索引选择问题和视图选择问题比较类似，算法部分有可以相互借鉴的地方；但是在生成候选视图/索引部分，二者还是有不少差别


1.3 本文主要内容

1）候选视图的生成和选择

2）分布式场景下的静态视图选择；扩展贪心

3）分布式场景下动态视图选择方法的设计与实现

4）实验和性能对比

------------------

第2章 相关技术

2.1 分布式数据库
分布式中间件+单机数据库：TDSQL Polar-X
共享存储（share storage）：TDSQL-C GaussDB for MySQL
原生分布式（share nothing）：OceanBase TiDB

// 得引用 gartner distributed database trend
// 引不了

2.2 共识算法 
paxos
raft
以及其他

2.3 HTAP ？

// 清华的 什么 tutorial

2.4 // 如果能用一些机器学习方法就也放在这里一块介绍 // 排序到时侯看情况再调整

------------------

3 分布式环境下的静态视图选择算法

3.1 候选视图生成以及筛选
参考2020 ICDE common subexpression 
// 对比实验时考虑 早期的启发时筛选候选视图方法的性能

1）数据集
2）预处理
3）模型训练

3.2 基于贪心思想的视图选择算法
// 是否就参考 2003 年那篇论文


// 这部分也许就不需要在 OB 上实现？ // 但是对比实验环节我是希望能具体对比一下的QAQ
------------------

4 分布式环境下的动态视图选择 // 考虑删掉不做了，没有创新点 // 有的，但是我不会做



------------------

5 实验结果及分析

参考文献【】的实验设计，使用 IMDB 数据集和 Join Order Benchmark（JOB）// 要不要考虑也做一些改动？// ，对比 BigSub 算法和若干分布式贪心视图选择的算法；
// 这部分的实现恐怕也是难点

希望突出的创新点是：在性能上可以有一部分提升，并且将文献【】中的算法应用场景扩展到分布式环境中；

6 结论